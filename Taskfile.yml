# https://taskfile.dev

version: '3'

tasks:
  check:
    cmds:
      - gofmt -d -e -s .
      - go tool golangci-lint run
      - go tool govulncheck
      - go test -race ./...

  build:
    cmds:
      - go build -o kagapass main.go

  tools:
    cmds:
      - go get -tool github.com/golangci/golangci-lint/cmd/golangci-lint
      - go get -tool golang.org/x/exp/cmd/gorelease
      - go get -tool golang.org/x/vuln/cmd/govulncheck
